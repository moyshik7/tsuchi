import{j as t,G as f,r as a,a as m,g as z,u as L,b as N,n as H,F as T,c as D,d as R,e as S}from"./index.337027b6.js";const w="/assets/spinner.ea5228dc.png";function X(){return t("div",{className:"absolute inset-0 bg-white flex justify-center items-center",children:t("img",{src:w,alt:w,className:"animate-ping w-20"})})}function G(e){return f({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]})(e)}function B(e){return f({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#8BC34A",points:"24,3 28.7,6.6 34.5,5.8 36.7,11.3 42.2,13.5 41.4,19.3 45,24 41.4,28.7 42.2,34.5 36.7,36.7 34.5,42.2 28.7,41.4 24,45 19.3,41.4 13.5,42.2 11.3,36.7 5.8,34.5 6.6,28.7 3,24 6.6,19.3 5.8,13.5 11.3,11.3 13.5,5.8 19.3,6.6"}},{tag:"polygon",attr:{fill:"#CCFF90",points:"34.6,14.6 21,28.2 15.4,22.6 12.6,25.4 21,33.8 37.4,17.4"}}]})(e)}const O=[{name:"item name",realName:"ti"},{name:"cost",realName:"co"},{name:"category",realName:"ty"},{name:"sub category",realName:"s_ty"},{name:"currency",realName:"ca"},{name:"brand",realName:"m_id"},{name:"is available",realName:"in"},{name:"is buildable",realName:"is_bu"},{name:"new",realName:"is_ne"},{name:"date created",realName:"s_da"},{name:"bundel name",realName:"p_na"}];function W({data:e}){const[n,r]=a.exports.useState({isCopied:!1,bgcolor:"bg-white/60"}),s=()=>navigator.clipboard.writeText(e.it_id),c=()=>{s(),r({isCopied:!0,bgcolor:"bg-green-200/60"})},g=O.map(o=>{const i=o.name;let u=e[o.realName];return typeof u=="boolean"&&(u=u===!0?"true":"No"),{name:i,value:u}}).map(o=>m("tr",{className:"odd:bg-white/60",children:[t("th",{className:"capitalize font-extrabold",children:o.name}),t("td",{className:"pl-4 font-semibold",children:o.value})]},o.name));return t("table",{className:"text-left",children:m("tbody",{children:[m("tr",{className:`${n.bgcolor} cursor-pointer`,onClick:c,children:[t("th",{className:"capitalize font-extrabold",children:"item ID"}),m("td",{className:"pl-4 font-semibold flex items-center gap-4",children:[e.it_id,n.isCopied?t(B,{}):t(G,{})]})]}),g]})})}const Z=1e3*60*60*24*7*3;function V({itemId:e,close:n}){const r=a.exports.useRef(),[s,c]=a.exports.useState({}),[l,g]=a.exports.useState(!1);return a.exports.useEffect(()=>{g(!0),z(e,({data:d})=>c(()=>({...d,in:Q(d.in),is_ne:K(d.s_da),s_da:q(d.s_da)})),d=>console.log(d),()=>g(!1))},[e]),t("div",{className:"z-10 mx-auto fixed inset-0 bg-black/70 backdrop-blur-sm flex justify-center items-center",onClick:i=>{i.target===r.current.parentElement&&n(i)},children:m("div",{ref:r,className:"relative p-4 w-full md:w-[35rem] max-h-[90%] overflow-auto bg-white/70 border-8 border-white backdrop-blur-sm rounded-2xl shadow-inner shadow-black/50 flex flex-col gap-4 cursor-auto",children:[l&&t(X,{}),t("img",{src:s.p_u,alt:"item",className:"self-center w-40"}),t(W,{data:s,close:n}),t("button",{className:"font-bold border-2 rounded-sm text-red-800 border-red-800 hover:bg-red-500/20 w-max px-4 self-end",onClick:n,children:"Close"})]})})}const q=e=>new Date(e*1e3).toLocaleString("en-GB"),K=e=>e*1e3+Z>Date.now(),Q=e=>!e,U="/assets/coins.f95e991c.png",J="/assets/crowns.1502a84a.png",_="/assets/gems.d91c1324.png",y="data:image/png;base64,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",$=a.exports.memo(({item:e})=>{const[n,r]=a.exports.useState(!1),s=l=>{l.stopPropagation(),r(!1)},c=l=>{switch(l.toLowerCase()){case"crowns":return J;case"gems":return _;case"coins":return U;case"free":return y;default:return y}};return m("div",{className:"relative bg-primary-white shadow-lg shadow-primary-black flex flex-col gap-4 items-center justify-center h-56 w-40 rounded-2xl cursor-pointer",onClick:()=>r(!0),children:[t("img",{src:e.p_u,alt:"item"}),m("div",{className:"flex gap-2 items-center font-bold text-lg",children:[t("img",{className:"w-4 h-4",src:c(e.ca),alt:"currency"}),e.co]}),n&&t(V,{itemId:e.it_id,close:s})]})}),ee=$;function te({children:e}){return t("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 w-max m-auto",children:e})}const Y=a.exports.createContext(),ne=()=>a.exports.useContext(Y);function A({children:e,page:n,isActive:r=!1,color:s=r?"bg-white/50":""}){const{setCurrentPage:c}=ne();return t("div",{onClick:()=>c(n),className:`group flex text-primary-white items-center px-2 py-1 md:px-4 md:py-2 rounded-md ${s} cursor-pointer hover:scale-95 hover:bg-white/20 transition-[background-color] duration-300`,children:e})}function v({onClick:e,children:n,color:r=""}){return t("div",{onClick:e,className:`group flex text-primary-white items-center px-2 py-1 md:px-4 md:py-2 rounded-md ${r} cursor-pointer hover:scale-95 hover:bg-white/20 transition-[background-color] duration-300`,children:n})}const re=Number.MAX_VALUE;function se(e,n=re){const[r,s]=a.exports.useState(e),c=L(),[l]=N();function g(){r<=0||s(d=>d-1)}function o(){r>=n||s(d=>d+1)}function i(){s(0)}function u(){s(n)}return a.exports.useEffect(()=>{l.set("page",r),H(c,l)},[r]),a.exports.useEffect(()=>{(e>n||e<0)&&i()},[e,n]),{pagesElements:ae(r,n,2),currentPage:r,setCurrentPage:s,goToFirstPage:i,goToLastPage:u,goToNextPage:o,goToPreviousPage:g}}function ae(e,n,r){return e>n?null:m(T,{children:[M(e,r),t(A,{page:e,isActive:!0,children:e},e),P(e,r,n)]})}const p=e=>t(A,{page:e,children:e},e),P=(e,n,r)=>e+n>r?null:n===1?[p(e+1)]:[...P(e,n-1),p(e+n)],M=(e,n)=>e-n<0?null:n===1?[p(e-1)]:[p(e-n),...M(e,n-1)];function oe(e){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 14v-12h2v5.5l5-5v5l5-5v11l-5-5v5l-5-5v5.5z"}}]})(e)}function ie(e){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 2v12h-2v-5.5l-5 5v-5l-5 5v-11l5 5v-5l5 5v-5.5z"}}]})(e)}function ce(e){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 14v-12h2v5.5l5-5v11l-5-5v5.5z"}}]})(e)}function le(e){return f({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M12 2v12h-2v-5.5l-5 5v-11l5 5v-5.5z"}}]})(e)}function ue({page:e=0,pagesCount:n}){const{pagesElements:r,currentPage:s,setCurrentPage:c,goToFirstPage:l,goToLastPage:g,goToNextPage:o,goToPreviousPage:i}=se(e,n);return t(Y.Provider,{value:{currentPage:s,setCurrentPage:c},children:m("div",{className:"flex my-4 gap-1 justify-center",children:[t(v,{onClick:l,children:t(x,{icon:t(oe,{})})}),t(v,{onClick:i,children:t(x,{icon:t(ce,{})})}),r,t(v,{onClick:o,children:t(x,{icon:t(le,{})})}),t(v,{onClick:g,children:t(x,{icon:t(ie,{})})})]})})}function x({icon:e}){return t("div",{className:"opacity-50 active:opacity-100 group-hover:opacity-100",children:e})}function de(){return t("div",{className:"fixed inset-0 z-20 bg-primary-black flex justify-center items-center",children:t("img",{src:w,alt:"spinner",className:"animate-spin"})})}function he(){const[e,n]=a.exports.useState(0),[r]=N(),[s,c]=a.exports.useState([]),{search:l}=D(),[g,o]=a.exports.useState(!0);let i=parseInt(r.get("limit"),10),u=parseInt(r.get("page"),10),I=r.get("category"),d=r.get("sub_category"),E=r.get("available"),C=r.get("currency"),j=r.get("sort_date");isNaN(i)&&(i=20),isNaN(u)&&(u=0);function F(){R(r),S(({data:h})=>{c(h.items),n(h.pagesCount)},h=>console.log(h),()=>o(!1),`?${r.toString()}`)}if(a.exports.useEffect(()=>{o(!0),F()},[u,i,l,I,d,E,C,j]),g)return t(de,{});const k=s.map(b=>t(ee,{item:b},b.it_id));return m("main",{className:"bg-primary min-h-screen pt-24",children:[t(te,{children:k}),t(ue,{page:u,pagesCount:e})]})}export{he as default};
